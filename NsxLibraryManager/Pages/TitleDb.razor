@page "/titledb"
@using NsxLibraryManager.Models
<RadzenStack Orientation="Orientation.Vertical" AlignItems="AlignItems.Normal" Wrap="FlexWrap.NoWrap" Gap="1rem">
    <RadzenStack Orientation="Orientation.Vertical" AlignItems="AlignItems.End" Wrap="FlexWrap.NoWrap" Gap="1rem">
        <RadzenButton Click="@(args => RefreshTitleDb())" Text="Update TitleDb" ButtonStyle="ButtonStyle.Secondary" class=".rz-shadow-2"/>
    </RadzenStack>
    <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Normal" Wrap="FlexWrap.NoWrap" Gap="1rem">
        <RadzenDataGrid Data="@regionTitles" TItem="RegionTitle" AllowSorting="true" AllowPaging="true" PageSize="100"
                        AllowFiltering="true" FilterMode="FilterMode.SimpleWithMenu" FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                        AllowColumnResize="true" PagerHorizontalAlign="HorizontalAlign.Center" ColumnWidth="200px" AllowColumnPicking="true"
                        ShowPagingSummary="true" style="height: 95vh">
            <Columns>
                <RadzenDataGridColumn TItem="RegionTitle" Property="TitleId" Title="Title Id"  Width="150px"/>
                <RadzenDataGridColumn TItem="RegionTitle" Property="Type" Title="Type" Width="80px"/>
                <RadzenDataGridColumn TItem="RegionTitle" Property="Name" Title="Name" Width="300px">
                    <Template Context="regionTitle">
                        <RadzenLink Path="@($"/title/{regionTitle.TitleId}")" Text="@regionTitle.Name" />
                    </Template>
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="RegionTitle" Property="Publisher" Title="Publisher"  Width="180px"/>
                <RadzenDataGridColumn TItem="RegionTitle" Property="ReleaseDate" Title="Release Date" FormatString="{0:d}" Width="110px"/>
            </Columns>
        </RadzenDataGrid>
    </RadzenStack>
</RadzenStack>